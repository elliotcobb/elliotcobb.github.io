{"ast":null,"code":"import _classCallCheck from \"/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/src/Sticky.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { isMobile } from './helpers';\nimport InfoWindow from './InfoWindow';\nimport './Sticky.css';\nvar INFO_WINDOW_WIDTH = 340;\nvar STICKY_WIDTH = 110;\nexport var Sticky =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Sticky);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Sticky)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      infoWindowStyle: {}\n    };\n    return _this;\n  }\n\n  _createClass(Sticky, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.isStickySelected === this.props.isStickySelected) {\n        return;\n      }\n\n      var centerOfStickyXAxis = this.props.xCoord + STICKY_WIDTH / 2;\n      var windowWidth = window.innerWidth;\n      var rightWindowBorderXCoord = window.pageXOffset + windowWidth;\n      var distanceToRightWindowBorder = rightWindowBorderXCoord - centerOfStickyXAxis;\n      var isOnRightHalfOfScreen = distanceToRightWindowBorder < windowWidth / 2;\n      var infoWindowXCoord = isOnRightHalfOfScreen ? -INFO_WINDOW_WIDTH : STICKY_WIDTH;\n      this.setState({\n        infoWindowStyle: {\n          left: \"\".concat(infoWindowXCoord, \"px\")\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          isStickySelected = _this$props.isStickySelected,\n          onClick = _this$props.onClick,\n          onMouseLeave = _this$props.onMouseLeave,\n          xCoord = _this$props.xCoord,\n          yCoord = _this$props.yCoord;\n      var infoWindowStyle = this.state.infoWindowStyle;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"sticky \".concat(isStickySelected || true ? 'sticky--infoWindowVisible' : ''),\n        onClick: onClick,\n        onMouseLeave: onMouseLeave,\n        style: {\n          left: xCoord,\n          top: yCoord\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, !isMobile() && isStickySelected && React.createElement(\"div\", {\n        className: \"sticky-infoWindow\",\n        style: infoWindowStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(InfoWindow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, children))));\n    }\n  }]);\n\n  return Sticky;\n}(Component);\nSticky.propTypes = {\n  children: PropTypes.node.isRequired,\n  isStickySelected: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  xCoord: PropTypes.number.isRequired,\n  yCoord: PropTypes.number.isRequired\n};\nexport default Sticky;","map":{"version":3,"sources":["/Users/elliotcobb/Documents/projects/personal/stickyNoteMap/sticky-note-app/src/Sticky.js"],"names":["React","Component","PropTypes","isMobile","InfoWindow","INFO_WINDOW_WIDTH","STICKY_WIDTH","Sticky","state","infoWindowStyle","prevProps","isStickySelected","props","centerOfStickyXAxis","xCoord","windowWidth","window","innerWidth","rightWindowBorderXCoord","pageXOffset","distanceToRightWindowBorder","isOnRightHalfOfScreen","infoWindowXCoord","setState","left","children","onClick","onMouseLeave","yCoord","top","propTypes","node","isRequired","bool","func","number"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAAQC,QAAR,QAAuB,WAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,OAAO,cAAP;AAEA,IAAMC,iBAAiB,GAAG,GAA1B;AACA,IAAMC,YAAY,GAAG,GAArB;AAEA,WAAaC,MAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UAUEC,KAVF,GAUU;AACNC,MAAAA,eAAe,EAAE;AADX,KAVV;AAAA;AAAA;;AAAA;AAAA;AAAA,uCAcqBC,SAdrB,EAcgC;AAC5B,UAAIA,SAAS,CAACC,gBAAV,KAA+B,KAAKC,KAAL,CAAWD,gBAA9C,EAAgE;AAC9D;AACD;;AAED,UAAME,mBAAmB,GAAG,KAAKD,KAAL,CAAWE,MAAX,GAAoBR,YAAY,GAAC,CAA7D;AACA,UAAMS,WAAW,GAAGC,MAAM,CAACC,UAA3B;AACA,UAAMC,uBAAuB,GAAGF,MAAM,CAACG,WAAP,GAAqBJ,WAArD;AACA,UAAMK,2BAA2B,GAAGF,uBAAuB,GAAGL,mBAA9D;AACA,UAAMQ,qBAAqB,GAAGD,2BAA2B,GAAGL,WAAW,GAAC,CAAxE;AAEA,UAAMO,gBAAgB,GAAGD,qBAAqB,GAC1C,CAAChB,iBADyC,GAE1CC,YAFJ;AAGA,WAAKiB,QAAL,CAAc;AACZd,QAAAA,eAAe,EAAE;AACfe,UAAAA,IAAI,YAAKF,gBAAL;AADW;AADL,OAAd;AAKD;AAjCH;AAAA;AAAA,6BAmCW;AAAA,wBAQH,KAAKV,KARF;AAAA,UAELa,QAFK,eAELA,QAFK;AAAA,UAGLd,gBAHK,eAGLA,gBAHK;AAAA,UAILe,OAJK,eAILA,OAJK;AAAA,UAKLC,YALK,eAKLA,YALK;AAAA,UAMLb,MANK,eAMLA,MANK;AAAA,UAOLc,MAPK,eAOLA,MAPK;AAAA,UASAnB,eATA,GASmB,KAAKD,KATxB,CASAC,eATA;AAUP,aACE,0CACE;AACE,QAAA,SAAS,mBAAYE,gBAAgB,IAAI,IAApB,GAA2B,2BAA3B,GAAyD,EAArE,CADX;AAEE,QAAA,OAAO,EAAEe,OAFX;AAGE,QAAA,YAAY,EAAEC,YAHhB;AAIE,QAAA,KAAK,EAAE;AAACH,UAAAA,IAAI,EAAEV,MAAP;AAAee,UAAAA,GAAG,EAAED;AAApB,SAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMG,CAACzB,QAAQ,EAAT,IAAeQ,gBAAf,IACC;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAmC,QAAA,KAAK,EAAEF,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAagB,QAAb,CADF,CAPJ,CADF,CADF;AAgBD;AA7DH;;AAAA;AAAA,EAA4BxB,SAA5B;AAAaM,M,CACJuB,S,GAAY;AACjBL,EAAAA,QAAQ,EAAEvB,SAAS,CAAC6B,IAAV,CAAeC,UADR;AAEjBrB,EAAAA,gBAAgB,EAAET,SAAS,CAAC+B,IAAV,CAAeD,UAFhB;AAGjBN,EAAAA,OAAO,EAAExB,SAAS,CAACgC,IAAV,CAAeF,UAHP;AAIjBL,EAAAA,YAAY,EAAEzB,SAAS,CAACgC,IAAV,CAAeF,UAJZ;AAKjBlB,EAAAA,MAAM,EAAEZ,SAAS,CAACiC,MAAV,CAAiBH,UALR;AAMjBJ,EAAAA,MAAM,EAAE1B,SAAS,CAACiC,MAAV,CAAiBH;AANR,C;AA+DrB,eAAezB,MAAf","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {isMobile} from './helpers';\nimport InfoWindow from './InfoWindow';\n\nimport './Sticky.css';\n\nconst INFO_WINDOW_WIDTH = 340;\nconst STICKY_WIDTH = 110;\n\nexport class Sticky extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    isStickySelected: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onMouseLeave: PropTypes.func.isRequired,\n    xCoord: PropTypes.number.isRequired,\n    yCoord: PropTypes.number.isRequired,\n  }\n\n  state = {\n    infoWindowStyle: {},\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isStickySelected === this.props.isStickySelected) {\n      return;\n    }\n\n    const centerOfStickyXAxis = this.props.xCoord + STICKY_WIDTH/2; \n    const windowWidth = window.innerWidth;\n    const rightWindowBorderXCoord = window.pageXOffset + windowWidth;\n    const distanceToRightWindowBorder = rightWindowBorderXCoord - centerOfStickyXAxis;\n    const isOnRightHalfOfScreen = distanceToRightWindowBorder < windowWidth/2;\n\n    const infoWindowXCoord = isOnRightHalfOfScreen\n      ? -INFO_WINDOW_WIDTH\n      : STICKY_WIDTH;\n    this.setState({\n      infoWindowStyle: {\n        left: `${infoWindowXCoord}px`,\n      }\n    });\n  }\n\n  render() {\n    const {\n      children,\n      isStickySelected,\n      onClick,\n      onMouseLeave,\n      xCoord,\n      yCoord,\n    } = this.props;\n    const {infoWindowStyle} = this.state;\n    return (\n      <>\n        <div\n          className={`sticky ${isStickySelected || true ? 'sticky--infoWindowVisible' : ''}`}\n          onClick={onClick}\n          onMouseLeave={onMouseLeave}\n          style={{left: xCoord, top: yCoord}}\n        >\n          {!isMobile() && isStickySelected &&\n            <div className=\"sticky-infoWindow\" style={infoWindowStyle}>\n              <InfoWindow>{children}</InfoWindow>\n            </div>\n          }\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Sticky;\n"]},"metadata":{},"sourceType":"module"}